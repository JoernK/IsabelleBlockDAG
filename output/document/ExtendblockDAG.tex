%
\begin{isabellebody}%
\setisabellecontext{ExtendblockDAG}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ ExtendblockDAG\isanewline
\ \ \isakeyword{imports}\ blockDAG\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Extend blockDAGs%
}
\isamarkuptrue%
%
\isamarkupsubsection{Definitions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{locale}\isamarkupfalse%
\ Append{\isacharunderscore}{\kern0pt}One\ {\isacharequal}{\kern0pt}\ blockDAG\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ G{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}{\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{structure}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{and}\ app{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\isanewline
\isakeyword{assumes}\ bD{\isacharunderscore}{\kern0pt}A{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}blockDAG\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ app{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}app\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ app{\isacharunderscore}{\kern0pt}notin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}app\ {\isasymnotin}\ verts\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ GG{\isacharunderscore}{\kern0pt}A\ {\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}G\ {\isacharequal}{\kern0pt}\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\ G{\isacharunderscore}{\kern0pt}A\ app{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ new{\isacharunderscore}{\kern0pt}node{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}b\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ {\isasymnot}\ b\ {\isasymrightarrow}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ app{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Honest{\isacharunderscore}{\kern0pt}Append{\isacharunderscore}{\kern0pt}One\ {\isacharequal}{\kern0pt}\ Append{\isacharunderscore}{\kern0pt}One\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ ref{\isacharunderscore}{\kern0pt}tips{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}t\ {\isasymin}\ tips\ G{\isachardot}{\kern0pt}\ app\ {\isasymrightarrow}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ t{\isachardoublequoteclose}\ \ \isanewline
\isanewline
\isanewline
\isacommand{locale}\isamarkupfalse%
\ Append{\isacharunderscore}{\kern0pt}One{\isacharunderscore}{\kern0pt}Honest{\isacharunderscore}{\kern0pt}Dishonest\ {\isacharequal}{\kern0pt}\ Honest{\isacharunderscore}{\kern0pt}Append{\isacharunderscore}{\kern0pt}One\ {\isacharplus}{\kern0pt}\ \isanewline
\ \ \isakeyword{fixes}\ G{\isacharunderscore}{\kern0pt}AB\ \ {\isacharparenleft}{\kern0pt}\isakeyword{structure}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isakeyword{and}\ dis{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}a\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Append{\isacharunderscore}{\kern0pt}One\ G{\isacharunderscore}{\kern0pt}A\ G{\isacharunderscore}{\kern0pt}AB\ dis{\isacharunderscore}{\kern0pt}n{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Append-One Lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ new{\isacharunderscore}{\kern0pt}node{\isacharunderscore}{\kern0pt}alt{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}b\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ {\isasymnot}\ b\ {\isasymrightarrow}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ app{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}b{\isachardot}{\kern0pt}\ {\isasymnot}\ b\ {\isasymrightarrow}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ app{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ b\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}b{\isasymin}verts\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}b{\isacharcomma}{\kern0pt}\ app{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ arcs{\isacharunderscore}{\kern0pt}ends\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ a{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymrightarrow}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ app{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}adj{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}verts{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ bD{\isacharunderscore}{\kern0pt}A\ subs\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ a{\isadigit{1}}\ a{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}subverts{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}verts\ G\ {\isasymsubset}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ GG{\isacharunderscore}{\kern0pt}A\ \ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}verts{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}in\ app{\isacharunderscore}{\kern0pt}notin\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}verts{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}verts\ G{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ verts\ G\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}app{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ GG{\isacharunderscore}{\kern0pt}A\ \ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}verts{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}in\ app{\isacharunderscore}{\kern0pt}notin\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}verts{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ verts\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}a\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ assms{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}verts{\isacharunderscore}{\kern0pt}diff{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}verts\ G\ {\isacharequal}{\kern0pt}\ verts\ G{\isacharunderscore}{\kern0pt}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}app{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\ app{\isacharunderscore}{\kern0pt}in\ app{\isacharunderscore}{\kern0pt}notin\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}verts{\isacharunderscore}{\kern0pt}cases{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{obtains}\ {\isacharparenleft}{\kern0pt}a{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}G{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ verts\ G{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}app{\isacharparenright}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ app{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\ assms\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}subarcs{\isacharunderscore}{\kern0pt}leq{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}arcs\ G\ {\isasymsubseteq}\ arcs\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ GG{\isacharunderscore}{\kern0pt}A\ \ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}arcs{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}in\ app{\isacharunderscore}{\kern0pt}notin\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}digraph{\isacharunderscore}{\kern0pt}def\ subs\ Append{\isacharunderscore}{\kern0pt}One{\isacharunderscore}{\kern0pt}axioms\ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}subarcs{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}arcs\ G\ {\isasymsubset}\ arcs\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ \ {\isachardoublequoteopen}arcs\ G\ {\isasymsubseteq}\ arcs\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}subarcs{\isacharunderscore}{\kern0pt}leq\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ gen\ \isakeyword{where}\ gen{\isacharunderscore}{\kern0pt}rec{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ gen{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ bD{\isacharunderscore}{\kern0pt}A\ blockDAG{\isachardot}{\kern0pt}genesis\ app{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ app{\isacharunderscore}{\kern0pt}notin\ append{\isacharunderscore}{\kern0pt}subverts\isanewline
\ \ \ \ \ \ genesis{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}verts\ new{\isacharunderscore}{\kern0pt}node\ psubsetD\ tranclE\ new{\isacharunderscore}{\kern0pt}node{\isacharunderscore}{\kern0pt}alt\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ walk\ \isakeyword{where}\ walk{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}awalk\ G{\isacharunderscore}{\kern0pt}A\ app\ walk\ gen\ {\isasymand}\ walk\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}reachable{\isadigit{1}}{\isacharunderscore}{\kern0pt}awalk\ bD{\isacharunderscore}{\kern0pt}A\ subs\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ e\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymexists}es{\isachardot}{\kern0pt}\ walk\ {\isacharequal}{\kern0pt}\ e\ {\isacharhash}{\kern0pt}\ es{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ list{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}e\ {\isasymin}\ arcs\ G{\isacharunderscore}{\kern0pt}A\ {\isasymand}\ tail\ G{\isacharunderscore}{\kern0pt}A\ e\ {\isacharequal}{\kern0pt}\ app{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}awalk{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ bD{\isacharunderscore}{\kern0pt}A\ subs\ walk{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymnotin}\ arcs\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}digraph{\isacharunderscore}{\kern0pt}def\ app{\isacharunderscore}{\kern0pt}notin\ \isanewline
\ \ \ \ \ \ blockDAG{\isacharunderscore}{\kern0pt}axioms\ subs\ GG{\isacharunderscore}{\kern0pt}A\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}tail{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}arcs\ G\ {\isasymnoteq}\ arcs\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ e{\isacharunderscore}{\kern0pt}in\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}head{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}head\ G{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ head\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ GG{\isacharunderscore}{\kern0pt}A\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}head{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}tail{\isacharcolon}{\kern0pt}\ \isanewline
\ \ {\isachardoublequoteopen}tail\ G{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ tail\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ GG{\isacharunderscore}{\kern0pt}A\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}tail{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}subgraph{\isacharcolon}{\kern0pt}\ \isanewline
\ {\isachardoublequoteopen}subgraph\ G\ G{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ \ GG{\isacharunderscore}{\kern0pt}A\ blockDAG{\isacharunderscore}{\kern0pt}axioms\ subs\ bD{\isacharunderscore}{\kern0pt}A\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ subs\ wf{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}induced{\isacharunderscore}{\kern0pt}subgraph{\isacharcolon}{\kern0pt}\ \isanewline
\ {\isachardoublequoteopen}induced{\isacharunderscore}{\kern0pt}subgraph\ G\ G{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ induced{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}subgraph\ G\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}subgraph\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}arcs\ G\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}e\ {\isasymin}\ arcs\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ tail\ G{\isacharunderscore}{\kern0pt}A\ e\ {\isasymin}\ verts\ G\ {\isasymand}\ head\ G{\isacharunderscore}{\kern0pt}A\ e\ {\isasymin}\ verts\ G{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ GG{\isacharunderscore}{\kern0pt}A\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}arcs{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\ pre{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}verts{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\ bD{\isacharunderscore}{\kern0pt}A\ subs\ wf{\isacharunderscore}{\kern0pt}digraph{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Diff{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}absorb\ Un{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}right\isanewline
\ \ \ \ \ \ Un{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}right\ app{\isacharunderscore}{\kern0pt}notin\ insertE{\isacharparenright}{\kern0pt}\ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reached{\isacharcolon}{\kern0pt}\isanewline
{\isachardoublequoteopen}{\isasymforall}b\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ {\isasymnot}\ b\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ app{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ tranclE\ wf{\isacharunderscore}{\kern0pt}digraph{\isachardot}{\kern0pt}reachable{\isadigit{1}}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}verts{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ bD{\isacharunderscore}{\kern0pt}A\ subs\ new{\isacharunderscore}{\kern0pt}node\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \ \isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}tip{\isacharcolon}{\kern0pt}\isanewline
{\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}tip\ G{\isacharunderscore}{\kern0pt}A\ app{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}tip{\isachardot}{\kern0pt}simps\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}in\ new{\isacharunderscore}{\kern0pt}node\ append{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}reached\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}tips{\isacharcolon}{\kern0pt}\isanewline
{\isachardoublequoteopen}app\ \ {\isasymin}\ tips\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ tips{\isacharunderscore}{\kern0pt}def\ \ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}in\ new{\isacharunderscore}{\kern0pt}node\ append{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}tip\ CollectI\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}greater{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
{\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}verts\ G{\isacharunderscore}{\kern0pt}A{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}notin\ no{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}blockDAG\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}P{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}linorder\ {\isasymRightarrow}\ int{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ {\isacharparenleft}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ {\isacharequal}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}map\ P{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}L{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}A{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharquery}{\kern0pt}L{\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}map\ P{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}L{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ {\isacharequal}{\kern0pt}\ sum\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharquery}{\kern0pt}L{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}L{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}A\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharquery}{\kern0pt}L{\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}map\ P{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}L{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ {\isacharequal}{\kern0pt}\ sum\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharquery}{\kern0pt}L{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}sum{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sum\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharquery}{\kern0pt}L{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sum\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharquery}{\kern0pt}L{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}P\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}diff{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ s{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ s{\isacharunderscore}{\kern0pt}{\isadigit{2}}\ s{\isacharunderscore}{\kern0pt}{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Honest-Append-One Lemmas%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Honest{\isacharunderscore}{\kern0pt}Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ reaches{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\isanewline
{\isachardoublequoteopen}{\isasymforall}v\ {\isasymin}\ verts\ G{\isachardot}{\kern0pt}\ app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ v{\isachardoublequoteclose}\ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ v\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymin}\ verts\ G{\isachardoublequoteclose}\isanewline
\ \ \isacommand{consider}\isamarkupfalse%
\ {\isachardoublequoteopen}is{\isacharunderscore}{\kern0pt}tip\ G\ v{\isachardoublequoteclose}\ {\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}tip\ G\ v{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ v{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ ref{\isacharunderscore}{\kern0pt}tips\ v{\isacharunderscore}{\kern0pt}in\ is{\isacharunderscore}{\kern0pt}tip{\isachardot}{\kern0pt}simps\ r{\isacharunderscore}{\kern0pt}into{\isacharunderscore}{\kern0pt}trancl{\isacharprime}{\kern0pt}\ reached{\isacharunderscore}{\kern0pt}by\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}v\ {\isasymnotin}\ tips\ G{\isachardoublequoteclose}\ \isacommand{unfolding}\isamarkupfalse%
\ tips{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ t\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ tips\ G\ {\isasymand}\ t\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G\isactrlesub \ v{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ reached{\isacharunderscore}{\kern0pt}by{\isacharunderscore}{\kern0pt}tip\ v{\isacharunderscore}{\kern0pt}in\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ v{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}in\ append{\isacharunderscore}{\kern0pt}subgraph\ arcs{\isacharunderscore}{\kern0pt}ends{\isacharunderscore}{\kern0pt}mono\ trancl{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ref{\isacharunderscore}{\kern0pt}tips\ v{\isacharunderscore}{\kern0pt}in\ r{\isacharunderscore}{\kern0pt}into{\isacharunderscore}{\kern0pt}trancl{\isacharprime}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{using}\isamarkupfalse%
\ trancl{\isacharunderscore}{\kern0pt}trans\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Honest{\isacharunderscore}{\kern0pt}Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}past{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}past{\isacharunderscore}{\kern0pt}nodes\ G{\isacharunderscore}{\kern0pt}A\ app\ {\isacharequal}{\kern0pt}\ verts\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ past{\isacharunderscore}{\kern0pt}nodes{\isachardot}{\kern0pt}simps\ append{\isacharunderscore}{\kern0pt}verts\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ reaches{\isacharunderscore}{\kern0pt}all\ DAG{\isachardot}{\kern0pt}cycle{\isacharunderscore}{\kern0pt}free\ bD{\isacharunderscore}{\kern0pt}A\ subs\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Honest{\isacharunderscore}{\kern0pt}Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}only{\isacharunderscore}{\kern0pt}tip{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}tips\ G{\isacharunderscore}{\kern0pt}A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}app{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ safe\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}app\ {\isasymin}\ tips\ G{\isacharunderscore}{\kern0pt}A\ {\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}tips\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ as{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ tips\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ digraph{\isachardot}{\kern0pt}tips{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}verts\ bD{\isacharunderscore}{\kern0pt}A\ subs\ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ app{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ app{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ verts\ G{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\ x{\isacharunderscore}{\kern0pt}in\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ x{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ reaches{\isacharunderscore}{\kern0pt}all\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ is{\isacharunderscore}{\kern0pt}tip\ G{\isacharunderscore}{\kern0pt}A\ x{\isachardoublequoteclose}\ \ \isacommand{unfolding}\isamarkupfalse%
\ is{\isacharunderscore}{\kern0pt}tip{\isachardot}{\kern0pt}simps\ \isacommand{using}\isamarkupfalse%
\ app{\isacharunderscore}{\kern0pt}in\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ as{\isadigit{1}}\ CollectD\ \isacommand{unfolding}\isamarkupfalse%
\ tips{\isacharunderscore}{\kern0pt}def\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Honest{\isacharunderscore}{\kern0pt}Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ reduce{\isacharunderscore}{\kern0pt}append{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}reduce{\isacharunderscore}{\kern0pt}past\ G{\isacharunderscore}{\kern0pt}A\ app\ {\isacharequal}{\kern0pt}\ G{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ reduce{\isacharunderscore}{\kern0pt}past{\isachardot}{\kern0pt}simps\ past{\isacharunderscore}{\kern0pt}nodes{\isachardot}{\kern0pt}simps\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}b\ {\isasymin}\ verts\ G{\isachardot}{\kern0pt}\ app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ b{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ verts\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ reaches{\isacharunderscore}{\kern0pt}all\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}b\ {\isasymin}\ verts\ G{\isachardot}{\kern0pt}\ app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ b{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}b\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ b{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}tip\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}b\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ b{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ verts\ G{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}G{\isacharunderscore}{\kern0pt}A\ {\isasymrestriction}\ {\isacharbraceleft}{\kern0pt}b\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardot}{\kern0pt}\ app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ b{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ G\ {\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ induce{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}induced{\isacharunderscore}{\kern0pt}subgraph\ induced{\isacharunderscore}{\kern0pt}subgraph{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ append{\isacharunderscore}{\kern0pt}head\ append{\isacharunderscore}{\kern0pt}tail\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ app{\isacharunderscore}{\kern0pt}notin\ arcs{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert\isanewline
\ \ \ \ \ \ \ \ del{\isacharunderscore}{\kern0pt}vert{\isacharunderscore}{\kern0pt}def\ del{\isacharunderscore}{\kern0pt}vert{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}graph\ verts{\isacharunderscore}{\kern0pt}del{\isacharunderscore}{\kern0pt}vert{\isacharparenright}{\kern0pt}\ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ Honest{\isacharunderscore}{\kern0pt}Append{\isacharunderscore}{\kern0pt}One{\isacharparenright}{\kern0pt}\ append{\isacharunderscore}{\kern0pt}no{\isacharunderscore}{\kern0pt}anticone{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}anticone\ G{\isacharunderscore}{\kern0pt}A\ app\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ anticone{\isachardot}{\kern0pt}simps\isanewline
\isacommand{proof}\isamarkupfalse%
\ safe\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ \ {\isachardoublequoteopen}x\ {\isasymin}\ verts\ G{\isacharunderscore}{\kern0pt}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ \ {\isachardoublequoteopen}app\ {\isasymnoteq}\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}app{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharparenleft}{\kern0pt}arcs{\isacharunderscore}{\kern0pt}ends\ G{\isacharunderscore}{\kern0pt}A{\isacharparenright}{\kern0pt}\isactrlsup {\isacharplus}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ verts\ G{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ append{\isacharunderscore}{\kern0pt}verts\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}app\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ reaches{\isacharunderscore}{\kern0pt}all\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\kern0pt}\isactrlbsub G{\isacharunderscore}{\kern0pt}A\isactrlesub \ app{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=/cygdrive/c/DAGModelling/Isabelle/ExtendblockDAG.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%27=5%:%
%:%31=7%:%
%:%41=9%:%
%:%42=9%:%
%:%43=10%:%
%:%44=11%:%
%:%45=12%:%
%:%46=13%:%
%:%47=14%:%
%:%48=15%:%
%:%49=16%:%
%:%50=17%:%
%:%51=18%:%
%:%52=18%:%
%:%53=19%:%
%:%54=20%:%
%:%55=21%:%
%:%56=22%:%
%:%57=22%:%
%:%58=23%:%
%:%59=24%:%
%:%60=25%:%
%:%67=28%:%
%:%77=30%:%
%:%78=30%:%
%:%79=31%:%
%:%86=32%:%
%:%87=32%:%
%:%88=33%:%
%:%89=33%:%
%:%90=34%:%
%:%91=34%:%
%:%92=35%:%
%:%93=36%:%
%:%94=36%:%
%:%95=36%:%
%:%96=36%:%
%:%97=36%:%
%:%98=37%:%
%:%99=37%:%
%:%100=37%:%
%:%101=37%:%
%:%102=37%:%
%:%103=38%:%
%:%109=38%:%
%:%112=39%:%
%:%113=40%:%
%:%114=40%:%
%:%115=41%:%
%:%118=42%:%
%:%122=42%:%
%:%123=42%:%
%:%124=42%:%
%:%125=42%:%
%:%130=42%:%
%:%133=43%:%
%:%134=44%:%
%:%135=44%:%
%:%136=45%:%
%:%139=46%:%
%:%143=46%:%
%:%144=46%:%
%:%145=46%:%
%:%146=46%:%
%:%151=46%:%
%:%154=47%:%
%:%155=48%:%
%:%156=48%:%
%:%157=49%:%
%:%158=50%:%
%:%161=51%:%
%:%165=51%:%
%:%166=51%:%
%:%167=52%:%
%:%168=52%:%
%:%173=52%:%
%:%176=53%:%
%:%177=54%:%
%:%178=54%:%
%:%179=55%:%
%:%182=56%:%
%:%186=56%:%
%:%187=56%:%
%:%188=56%:%
%:%193=56%:%
%:%196=57%:%
%:%197=58%:%
%:%198=58%:%
%:%199=59%:%
%:%200=60%:%
%:%203=61%:%
%:%207=61%:%
%:%208=61%:%
%:%209=61%:%
%:%214=61%:%
%:%217=62%:%
%:%218=63%:%
%:%219=63%:%
%:%220=64%:%
%:%223=65%:%
%:%227=65%:%
%:%228=65%:%
%:%229=65%:%
%:%230=66%:%
%:%231=66%:%
%:%232=66%:%
%:%237=66%:%
%:%240=67%:%
%:%241=68%:%
%:%242=68%:%
%:%243=69%:%
%:%250=70%:%
%:%251=70%:%
%:%252=71%:%
%:%253=71%:%
%:%254=71%:%
%:%255=71%:%
%:%256=72%:%
%:%257=72%:%
%:%258=72%:%
%:%259=73%:%
%:%260=74%:%
%:%261=75%:%
%:%262=75%:%
%:%263=76%:%
%:%264=76%:%
%:%265=76%:%
%:%266=77%:%
%:%267=77%:%
%:%268=78%:%
%:%269=78%:%
%:%270=79%:%
%:%271=79%:%
%:%272=79%:%
%:%273=80%:%
%:%274=80%:%
%:%275=81%:%
%:%276=81%:%
%:%277=81%:%
%:%278=82%:%
%:%279=82%:%
%:%280=83%:%
%:%281=84%:%
%:%282=84%:%
%:%283=85%:%
%:%284=85%:%
%:%285=85%:%
%:%286=85%:%
%:%287=86%:%
%:%288=87%:%
%:%289=87%:%
%:%290=88%:%
%:%291=88%:%
%:%292=88%:%
%:%293=88%:%
%:%294=88%:%
%:%295=89%:%
%:%301=89%:%
%:%304=90%:%
%:%305=91%:%
%:%306=91%:%
%:%307=92%:%
%:%310=93%:%
%:%314=93%:%
%:%315=93%:%
%:%316=94%:%
%:%317=94%:%
%:%322=94%:%
%:%325=95%:%
%:%326=96%:%
%:%327=96%:%
%:%328=97%:%
%:%331=98%:%
%:%335=98%:%
%:%336=98%:%
%:%337=99%:%
%:%338=99%:%
%:%343=99%:%
%:%346=100%:%
%:%347=101%:%
%:%348=101%:%
%:%349=102%:%
%:%352=103%:%
%:%356=103%:%
%:%357=103%:%
%:%358=104%:%
%:%359=104%:%
%:%364=104%:%
%:%367=105%:%
%:%368=106%:%
%:%369=106%:%
%:%370=107%:%
%:%373=108%:%
%:%377=108%:%
%:%378=108%:%
%:%379=109%:%
%:%380=109%:%
%:%381=110%:%
%:%382=110%:%
%:%383=110%:%
%:%384=110%:%
%:%385=111%:%
%:%386=111%:%
%:%387=112%:%
%:%388=112%:%
%:%389=113%:%
%:%390=113%:%
%:%391=114%:%
%:%392=114%:%
%:%393=115%:%
%:%394=116%:%
%:%400=116%:%
%:%403=117%:%
%:%404=118%:%
%:%405=118%:%
%:%406=119%:%
%:%409=120%:%
%:%413=120%:%
%:%414=120%:%
%:%415=121%:%
%:%416=121%:%
%:%421=121%:%
%:%424=122%:%
%:%425=123%:%
%:%426=124%:%
%:%427=124%:%
%:%428=125%:%
%:%431=126%:%
%:%435=126%:%
%:%436=126%:%
%:%437=127%:%
%:%438=127%:%
%:%439=128%:%
%:%440=128%:%
%:%445=128%:%
%:%448=129%:%
%:%449=130%:%
%:%450=130%:%
%:%451=131%:%
%:%454=132%:%
%:%458=132%:%
%:%459=132%:%
%:%460=133%:%
%:%461=133%:%
%:%462=134%:%
%:%463=134%:%
%:%468=134%:%
%:%471=135%:%
%:%472=136%:%
%:%473=136%:%
%:%474=137%:%
%:%477=138%:%
%:%481=138%:%
%:%482=138%:%
%:%483=139%:%
%:%484=139%:%
%:%485=139%:%
%:%490=139%:%
%:%493=140%:%
%:%494=141%:%
%:%495=142%:%
%:%496=142%:%
%:%497=143%:%
%:%498=144%:%
%:%499=145%:%
%:%501=147%:%
%:%508=148%:%
%:%509=148%:%
%:%510=149%:%
%:%511=149%:%
%:%512=150%:%
%:%513=150%:%
%:%514=150%:%
%:%515=150%:%
%:%516=151%:%
%:%517=151%:%
%:%518=151%:%
%:%519=152%:%
%:%520=152%:%
%:%521=152%:%
%:%522=153%:%
%:%523=153%:%
%:%524=154%:%
%:%525=154%:%
%:%526=154%:%
%:%527=154%:%
%:%528=155%:%
%:%529=155%:%
%:%530=155%:%
%:%531=156%:%
%:%532=156%:%
%:%533=156%:%
%:%534=157%:%
%:%535=157%:%
%:%536=158%:%
%:%537=158%:%
%:%538=159%:%
%:%539=159%:%
%:%540=160%:%
%:%541=160%:%
%:%542=161%:%
%:%543=161%:%
%:%544=161%:%
%:%545=162%:%
%:%560=166%:%
%:%570=168%:%
%:%571=168%:%
%:%572=169%:%
%:%579=170%:%
%:%580=170%:%
%:%581=171%:%
%:%582=171%:%
%:%583=172%:%
%:%584=172%:%
%:%585=173%:%
%:%586=173%:%
%:%587=173%:%
%:%588=174%:%
%:%589=174%:%
%:%590=174%:%
%:%591=175%:%
%:%592=175%:%
%:%593=176%:%
%:%594=176%:%
%:%595=177%:%
%:%596=177%:%
%:%597=177%:%
%:%598=177%:%
%:%599=178%:%
%:%600=178%:%
%:%601=179%:%
%:%602=179%:%
%:%603=180%:%
%:%604=180%:%
%:%605=181%:%
%:%606=181%:%
%:%607=181%:%
%:%608=181%:%
%:%609=181%:%
%:%610=182%:%
%:%611=182%:%
%:%612=182%:%
%:%613=183%:%
%:%614=183%:%
%:%615=183%:%
%:%616=184%:%
%:%617=184%:%
%:%618=184%:%
%:%619=184%:%
%:%620=185%:%
%:%621=185%:%
%:%622=186%:%
%:%623=186%:%
%:%624=186%:%
%:%625=187%:%
%:%626=187%:%
%:%627=188%:%
%:%628=188%:%
%:%629=189%:%
%:%630=189%:%
%:%631=189%:%
%:%632=189%:%
%:%633=189%:%
%:%634=190%:%
%:%635=190%:%
%:%636=191%:%
%:%642=191%:%
%:%645=192%:%
%:%646=193%:%
%:%647=193%:%
%:%648=194%:%
%:%651=195%:%
%:%655=195%:%
%:%656=195%:%
%:%657=196%:%
%:%658=196%:%
%:%659=197%:%
%:%660=197%:%
%:%665=197%:%
%:%668=198%:%
%:%669=199%:%
%:%670=199%:%
%:%671=200%:%
%:%678=201%:%
%:%679=201%:%
%:%680=202%:%
%:%681=202%:%
%:%682=202%:%
%:%683=202%:%
%:%684=203%:%
%:%685=203%:%
%:%686=204%:%
%:%687=204%:%
%:%688=205%:%
%:%689=205%:%
%:%690=205%:%
%:%691=205%:%
%:%692=205%:%
%:%693=206%:%
%:%694=206%:%
%:%695=207%:%
%:%696=207%:%
%:%697=208%:%
%:%698=208%:%
%:%699=209%:%
%:%700=209%:%
%:%701=209%:%
%:%702=209%:%
%:%703=209%:%
%:%704=210%:%
%:%705=210%:%
%:%706=210%:%
%:%707=210%:%
%:%708=210%:%
%:%709=211%:%
%:%710=211%:%
%:%711=211%:%
%:%712=211%:%
%:%713=211%:%
%:%714=211%:%
%:%715=212%:%
%:%716=212%:%
%:%717=212%:%
%:%718=212%:%
%:%719=212%:%
%:%720=212%:%
%:%721=213%:%
%:%722=213%:%
%:%723=214%:%
%:%729=214%:%
%:%732=215%:%
%:%733=216%:%
%:%734=216%:%
%:%735=217%:%
%:%738=218%:%
%:%742=218%:%
%:%743=218%:%
%:%744=219%:%
%:%745=219%:%
%:%746=220%:%
%:%747=220%:%
%:%748=221%:%
%:%749=221%:%
%:%750=221%:%
%:%751=222%:%
%:%752=222%:%
%:%753=222%:%
%:%754=223%:%
%:%755=223%:%
%:%756=223%:%
%:%757=223%:%
%:%758=224%:%
%:%759=224%:%
%:%760=224%:%
%:%761=224%:%
%:%762=225%:%
%:%763=225%:%
%:%764=225%:%
%:%765=226%:%
%:%766=226%:%
%:%767=227%:%
%:%768=227%:%
%:%769=228%:%
%:%770=229%:%
%:%771=229%:%
%:%772=230%:%
%:%773=231%:%
%:%779=231%:%
%:%782=232%:%
%:%783=233%:%
%:%784=233%:%
%:%785=234%:%
%:%788=235%:%
%:%792=235%:%
%:%793=235%:%
%:%794=236%:%
%:%795=236%:%
%:%796=237%:%
%:%797=237%:%
%:%798=238%:%
%:%799=238%:%
%:%800=239%:%
%:%801=240%:%
%:%802=241%:%
%:%803=241%:%
%:%804=241%:%
%:%805=242%:%
%:%806=242%:%
%:%807=242%:%
%:%808=243%:%
%:%809=243%:%
%:%810=243%:%
%:%811=244%:%
%:%812=244%:%
%:%813=244%:%
%:%814=245%:%
%:%815=245%:%
%:%816=245%:%
%:%817=246%:%
%:%818=246%:%
%:%819=246%:%
%:%820=247%:%
%:%826=247%:%
%:%835=248%:%